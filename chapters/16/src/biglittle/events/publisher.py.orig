"""
biglittle.events.publisher
Description: module that leverages PyPubSub
IMPORTANT: use "pip3" to install PyPubPub for this to work!
"""

<<<<<<< HEAD
from pubsub import pub
=======
#from pubsub import pub
import pubsub
>>>>>>> 60122e03f7524c3b5661537111c904b246f443b9

class Publisher :

    EVENT_LOAN_UPDATE_BORROWER = 'event-loan-update-borrower'

    """
    Attaches a subscriber to a topic
    @param string topic
    @param callable listener
    @return void
    """
    def attach(self, topic, listener) :
<<<<<<< HEAD
        pub.subscribe(listener, topic)
=======
        pubsub.subscribe(listener, topic)
>>>>>>> 60122e03f7524c3b5661537111c904b246f443b9

    """
    Sends message about topic
    @param string topic
    @param object obj
    @return void
    """
    def trigger(self, topic, obj) :
<<<<<<< HEAD
        pub.sendMessage(topic, arg=obj)
=======
        pubsub.sendMessage(topic, arg=obj)
>>>>>>> 60122e03f7524c3b5661537111c904b246f443b9
